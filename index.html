<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ë‚˜ë‚˜ ì—°êµ¬ì‹¤ - GEMINI RESTORATION</title>
    <style>
        body { background: #000; color: #00ffcc; font-family: monospace; padding: 20px; }
        #console { background: #0a0a0a; border: 1px solid #333; padding: 15px; height: 300px; overflow-y: auto; font-size: 12px; color: #aaa; margin-bottom: 20px; }
        .success { color: #00ffcc; font-weight: bold; }
        .fail { color: #ff4444; }
        .btn-scan { background: #00ffcc; color: #000; border: none; padding: 15px; cursor: pointer; font-weight: bold; width: 100%; border-radius: 10px; }
        #result-box { display: none; background: #111; padding: 15px; border-radius: 10px; border: 1px solid #00ffcc; margin-top: 10px; }
    </style>
</head>
<body>
    <h2>ğŸš€ ì œë¯¸ë‚˜ì´ ì—”ì§„ í†µë¡œ ê°œì²™ (V2.5)</h2>
    <div id="console">ê¸°ì§€ ì‹œìŠ¤í…œ ëŒ€ê¸° ì¤‘... ìƒˆë¡œìš´ í‚¤ ì¸ì‹ ì™„ë£Œ.</div>
    <button class="btn-scan" onclick="startDeepScan()">ì—”ì§„ ì „ìˆ˜ì¡°ì‚¬ ì‹œì‘</button>
    
    <div id="result-box">
        <h3 id="status-title">ë¶„ì„ ê²°ê³¼</h3>
        <textarea id="test-output" style="width:100%; height:150px; background:#000; color:#fff; border:1px solid #333;"></textarea>
    </div>

<script>
    const API_KEY = "AIzaSyDFlvK6qzBAxM9D35-ehMu_duAYWjBXSVY";
    const consoleBox = document.getElementById('console');

    function log(msg, type='') {
        const div = document.createElement('div');
        div.className = type;
        div.innerText = `[${new Date().toLocaleTimeString()}] ${msg}`;
        consoleBox.appendChild(div);
        consoleBox.scrollTop = consoleBox.scrollHeight;
    }

    async function startDeepScan() {
        const modelNames = [
            'gemini-1.5-flash',
            'models/gemini-1.5-flash',
            'gemini-1.5-flash-latest',
            'models/gemini-1.5-flash-latest',
            'gemini-pro'
        ];
        const apiVersions = ['v1', 'v1beta'];
        
        log("ë”¥ ìŠ¤ìº” ëª¨ë“œ ê°€ë™... ëª¨ë“  ë³´ì•ˆ ê²½ë¡œë¥¼ ëŒ€ì¡°í•©ë‹ˆë‹¤.");
        document.getElementById('result-box').style.display = 'block';

        for (let ver of apiVersions) {
            for (let model of modelNames) {
                log(`${ver} ê²½ë¡œë¡œ ${model} í˜¸ì¶œ ì‹œë„...`);
                
                // ëª¨ë¸ ì´ë¦„ì— ìŠ¬ë˜ì‹œê°€ í¬í•¨ëœ ê²½ìš° ì²˜ë¦¬ ìµœì í™”
                const cleanModel = model.includes('/') ? model : `models/${model}`;
                const url = `https://generativelanguage.googleapis.com/${ver}/${cleanModel}:generateContent?key=${API_KEY}`;

                try {
                    const response = await fetch(url, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            contents: [{ parts: [{ text: "Translate 'Hello' to Korean." }] }]
                        })
                    });

                    const data = await response.json();

                    if (response.ok) {
                        log(`âœ… ì„±ê³µ! ìœ íš¨ ê²½ë¡œ ë°œê²¬: ${ver}/${model}`, 'success');
                        document.getElementById('test-output').value = `ì°¾ì•„ë‚¸ ë§ˆìŠ¤í„° í‚¤ ê²½ë¡œ:\nVERSION: ${ver}\nMODEL: ${model}\n\nì‘ë‹µ ê²°ê³¼: ${data.candidates[0].content.parts[0].text}`;
                        return; // ì„±ê³µ ì‹œ ì¤‘ë‹¨
                    } else {
                        log(`âŒ ì‹¤íŒ¨ (${ver}/${model}): ${data.error.message.substring(0, 40)}...`, 'fail');
                    }
                } catch (e) {
                    log(`ğŸš« ë„¤íŠ¸ì›Œí¬ ì°¨ë‹¨ (${ver}/${model})`, 'fail');
                }
            }
        }
        log("ëª¨ë“  ì¡°í•©ì´ ì°¨ë‹¨ë˜ì—ˆìŠµë‹ˆë‹¤. êµ¬ê¸€ AI ìŠ¤íŠœë””ì˜¤ì˜ 'API Key'ê°€ ì•„ë‹Œ 'OAuth' ì„¤ì •ì¸ì§€ í™•ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.", 'fail');
    }
</script>
</body>
</html>
