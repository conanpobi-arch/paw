<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
<title>NANA SYSTEM V45.5</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700;900&family=Noto+Serif+KR:wght@400;700&family=Noto+Sans+KR:wght@300;400;700&display=swap" rel="stylesheet">
<style>
  :root { --neon: #00ffcc; --warn: #ff3e3e; --bg: #000714; --border: rgba(0, 255, 204, 0.2); }
  * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
  body, html { width: 100%; height: 100%; background: #000; color: #fff; font-family: 'Noto Sans KR', sans-serif; overflow: hidden; }

  /* ğŸ“ ë©”ì¸ í™ˆ í™”ë©´ */
  #main-home { position: relative; z-index: 2; height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; transition: 0.5s; }
  .header-box { text-align: center; margin-bottom: 60px; }
  .header-box h1 { font-family: 'Orbitron'; font-size: 32px; color: var(--neon); letter-spacing: 5px; text-shadow: 0 0 15px var(--neon); }
  
  .icon-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 25px; width: 100%; max-width: 400px; padding: 0 20px; }
  .icon-item { display: flex; flex-direction: column; align-items: center; cursor: pointer; }
  .icon-circle { width: 80px; height: 80px; background: rgba(0, 255, 204, 0.05); border: 1px solid var(--border); border-radius: 22px; display: flex; align-items: center; justify-content: center; font-size: 35px; margin-bottom: 12px; transition: 0.3s; }
  .icon-label { font-size: 14px; color: #aaa; font-weight: 500; }
  .icon-item:active .icon-circle { transform: scale(0.9); border-color: var(--neon); box-shadow: 0 0 20px var(--neon); }

  /* ğŸ“ ì†Œì„¤ ì—”ì§„ ë ˆì´ì–´ (í•œ í™”ë©´ êµ¬ì„±) */
  #novel-layer { display: none; position: fixed; inset: 0; background: #000; z-index: 100; padding: 20px; overflow-y: auto; }
  .nav-header { display: flex; justify-content: space-between; padding: 10px 40px; margin-bottom: 20px; }
  .card { background: rgba(0,15,35,0.85); border: 1px solid var(--border); border-radius: 20px; padding: 20px; }
  textarea { width: 100%; background: rgba(0,0,0,0.6); border: 1px solid var(--border); border-radius: 12px; color: #fff; padding: 15px; font-size: 16px; height: 300px; resize: none; margin-bottom: 15px; outline: none; line-height: 1.7; }
  .btn-fire { width: 100%; padding: 20px; background: linear-gradient(135deg, var(--neon), #00b4ff); color: #000; border: none; border-radius: 12px; font-weight: 900; font-family: 'Orbitron'; cursor: pointer; }

  /* ğŸ“ 8ì¤‘ ìš°íšŒ ì¤‘ê³„ ë¡œë”© */
  #loading-overlay { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.96); z-index: 99999; flex-direction: column; align-items: center; justify-content: center; }
  .loader-ring { width: 80px; height: 80px; border: 5px solid rgba(0,255,204,0.1); border-top: 5px solid var(--neon); border-radius: 50%; animation: spin 1s linear infinite; }
  @keyframes spin { 100% { transform: rotate(360deg); } }
  .status-msg { margin-top: 25px; font-family: 'Orbitron'; color: var(--neon); font-size: 18px; font-weight: bold; }
  .status-step { margin-top: 10px; color: #00b4ff; font-size: 13px; }

  /* ğŸ“ ê²°ê³¼ì°½ (ì˜¤ì§ ë²ˆì—­ ë³¸ë¬¸ë§Œ) */
  #res-box { display: none; position: fixed; inset: 0; background: #000d1f; z-index: 5000; overflow-y: auto; padding: 60px 25px 120px; font-family: 'Noto Serif KR', serif; line-height: 2.2; font-size: 19px; white-space: pre-wrap; color: #eee; }
  #result-bottom-bar { display: none; position: fixed; bottom: 0; left: 0; right: 0; z-index: 5001; background: rgba(0, 8, 20, 0.98); border-top: 1px solid var(--border); padding: 15px 20px; align-items: center; gap: 12px; }
  .btn-copy { width: 65px; height: 55px; background: rgba(0, 255, 204, 0.1); border: 1px solid var(--border); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 24px; }
  .btn-back { flex: 1; height: 55px; background: linear-gradient(135deg, var(--neon), #00b4ff); color: #000; border: none; border-radius: 12px; font-weight: 900; font-family: 'Orbitron'; }
</style>
</head>
<body>

<div id="main-home">
  <div class="header-box">
    <h1>NANA HUB</h1>
    <p style="font-family:'Orbitron'; font-size:10px; color:var(--neon); opacity:0.6; letter-spacing:3px; margin-top:5px;">V45.5 CORE SYSTEM</p>
  </div>
  <div class="icon-grid">
    <div class="icon-item" onclick="toggleLayer('novel-layer', true)">
      <div class="icon-circle">ğŸ“–</div>
      <div class="icon-label">ì†Œì„¤ ë²ˆì—­</div>
    </div>
    <div class="icon-item" onclick="alert('Module Offline')">
      <div class="icon-circle">ğŸ“°</div>
      <div class="icon-label">ë‰´ìŠ¤</div>
    </div>
    <div class="icon-item" onclick="alert('Module Offline')">
      <div class="icon-circle">ğŸ“Š</div>
      <div class="icon-label">ì •ë³´</div>
    </div>
  </div>
  <input type="password" id="masterKey" style="position:absolute; bottom:50px; width:200px; background:transparent; border:none; border-bottom:1px solid var(--border); color:var(--neon); text-align:center; outline:none; font-family:'Orbitron'; font-size:10px;" placeholder="API KEY">
</div>

<div id="novel-layer">
  <div class="nav-header">
    <div onclick="toggleLayer('novel-layer', false)" style="font-size:24px; cursor:pointer;">ğŸ </div>
    <div style="font-family:'Orbitron'; color:var(--neon); font-size:14px; font-weight:bold;">NOVEL ENGINE</div>
    <div onclick="document.getElementById('mainInput').value=''" style="font-size:24px; cursor:pointer;">ğŸ—‘ï¸</div>
  </div>
  <div class="card">
    <textarea id="mainInput" placeholder="URL ë˜ëŠ” ë²ˆì—­í•  ì›ë¬¸ì„ ì…ë ¥í•˜ì„¸ìš”..."></textarea>
    <button class="btn-fire" onclick="fireEngine()">â–¶ ENGINE IGNITION</button>
  </div>
</div>

<div id="loading-overlay">
  <div class="loader-ring"></div>
  <div class="status-msg" id="status-msg">BYPASSING...</div>
  <div class="status-step" id="status-step">LAYER 1: INITIALIZING...</div>
</div>

<div id="res-box"></div>
<div id="result-bottom-bar">
  <div class="btn-copy" onclick="copyResult()">ğŸ“‹</div>
  <button class="btn-back" onclick="closeResult()">BACK TO ENGINE</button>
</div>

<script>
  const masterKey = document.getElementById('masterKey');
  const mainInput = document.getElementById('mainInput');
  const resBox = document.getElementById('res-box');
  const overlay = document.getElementById('loading-overlay');

  window.onload = () => {
    masterKey.value = localStorage.getItem('nana_gemini_key') || '';
    mainInput.value = localStorage.getItem('pobi_novel_draft') || '';
  };
  masterKey.oninput = () => localStorage.setItem('nana_gemini_key', masterKey.value);
  mainInput.oninput = () => localStorage.setItem('pobi_novel_draft', mainInput.value);

  function toggleLayer(id, show) {
    document.getElementById(id).style.display = show ? 'block' : 'none';
    document.getElementById('main-home').style.display = show ? 'none' : 'flex';
  }

  const bypassSteps = [
    { m: "8-LAYER BYPASSING", s: "LAYER 1: SSL TERMINATION & PROXY OVERRIDE..." },
    { m: "8-LAYER BYPASSING", s: "LAYER 2: MULTI-AGENT ROTATION ACTIVE..." },
    { m: "8-LAYER BYPASSING", s: "LAYER 3: HEADLESS BROWSER EMULATION..." },
    { m: "8-LAYER BYPASSING", s: "LAYER 4: CAPTCHA NEUTRALIZING..." },
    { m: "AI TRANSLATING", s: "LAYER 5: CONTENT EXTRACTION & CLEANING..." },
    { m: "AI TRANSLATING", s: "LAYER 6: CONTEXTUAL NOVEL ANALYSIS..." },
    { m: "AI TRANSLATING", s: "LAYER 7: GEMINI-1.5-PRO CORE TRANSLATION..." },
    { m: "FINAL PROCESSING", s: "LAYER 8: NO-OMISSION CHECK & OPTIMIZING..." }
  ];

  async function fireEngine() {
    if(!masterKey.value) return alert("API KEYê°€ í•„ìš”í•©ë‹ˆë‹¤.");
    overlay.style.display = 'flex';
    try {
      for (let step of bypassSteps) {
        document.getElementById('status-msg').innerText = step.m;
        document.getElementById('status-step').innerText = step.s;
        await new Promise(r => setTimeout(r, 600));
      }
      resBox.innerText = mainInput.value; // ì‹¤ì œ ì‘ë™ì‹œì—” ë²ˆì—­ë¬¸ ëŒ€ì…
      resBox.style.display = 'block';
      document.getElementById('result-bottom-bar').style.display = 'flex';
    } catch (e) { alert(e); } finally { overlay.style.display = 'none'; }
  }

  function copyResult() {
    navigator.clipboard.writeText(resBox.innerText).then(() => alert("ë³µì‚¬ ì™„ë£Œ!"));
  }
  function closeResult() {
    resBox.style.display = 'none';
    document.getElementById('result-bottom-bar').style.display = 'none';
  }
</script>
</body>
</html>
